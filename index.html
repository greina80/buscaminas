<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Buscaminas</title>
        <link rel="icon" type="image/x-icon" href="./img/mine.svg" />
        <link rel="stylesheet" href="./css/minesweeper.css" />
        <script src="./js/minesweeper.js" type="text/javascript"></script>        
    </head>
    <body>
        <div class="main window">
            <div class="header">
                <img class="icon" src="./img/mine.svg"/>
                <span class="title">Buscaminas</span>
            </div>
            <div class="menu">
                <div class="item">
                    <span class="label">Juego</span>
                    <div class="submenu">
                        <div class="item" onclick="newGame()" hotkey="F2">
                            <div class="check"></div>
                            <div class="label">Nuevo</div>
                            <div class="hotkey">F2</div>
                        </div>
                        <div class="separator"></div>
                        <slot id="levelMenuItems"></slot>
                        <div class="separator"></div>
                        <div class="item" onclick="showHighScores()">
                            <div class="check"></div>
                            <div class="label">Mejores puntuaciones</div>
                            <div class="hotkey"></div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <span class="label">Ayuda</span>
                    <div class="submenu">
                        <div class="item" onclick="showModal('aboutGameModal')">
                            <div class="check"></div>
                            <div class="label">Acerca de Buscaminas</div>
                            <div class="hotkey"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="scoreboard">
                    <div class="counter">
                        <span class="value" id="num-mines">000</span>
                        <span class="placeholder">888</span>
                    </div>
                    <div class="main-button" onclick="newGame()"></div>
                    <div class="counter">
                        <span class="value" id="num-seconds">000</span>
                        <span class="placeholder">888</span>
                    </div>
                </div>
                <div class="game-board"></div>
            </div>
        </div>
        <div class="modal" id="newRecordModal">
            <div class="window">
                <div class="header">
                    <img class="icon" src="./img/trophy.svg" />
                    <span class="title">¡Nuevo récord!</span>
                    <div class="close-button" onclick="closeModal('newRecordModal')" hotkey="Escape"></div>
                </div>
                <div class="content">
                    <img src="./img/party-popper.svg"/>
                    <span>Nivel:</span>
                    <span id="newRecordLevel"></span>
                    <span>Puntuación:</span>
                    <span id="newRecordScore"></span>
                    <span>Nombre:</span>
                    <input type="text" id="newRecordName" placeholder="Anónimo" maxlength="20" autofocus/>
                    <button onclick="saveNewRecord()" hotkey="Enter">Aceptar</button>
                </div>
            </div>
        </div>
        <div class="modal" id="highScoresModal">
            <div class="window">
                <div class="header">
                    <img class="icon" src="./img/trophy.svg" />
                    <span class="title">Mejores puntuaciones</span>
                    <div class="close-button" onclick="closeModal('highScoresModal')" hotkey="Escape"></div>
                </div>
                <div class="content">
                    <img src="./img/podium.svg"/>
                    <table id="highScoresTable">
                        <thead>
                            <tr>
                                <th>Nivel</th>
                                <th>Puntuación</th>
                                <th>Jugador</th>
                                <th>Fecha</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <button onclick="closeModal('highScoresModal')" hotkey="Enter" autofocus>Aceptar</button>
                </div>
            </div>
        </div>
        <div class="modal" id="aboutGameModal">
            <div class="window">
                <div class="header">
                    <span class="title">Acerca de Buscaminas</span>
                    <div class="close-button" onclick="closeModal('aboutGameModal')" hotkey="Escape"></div>
                </div>
                <div class="content">
                    <span>Creado por <a href="https://github.com/greina80" target="_blank">greina80</a> con:</span>
                    <img src="./img/css-html-js.svg"/>
                    <button onclick="closeModal('aboutGameModal')" hotkey="Enter" autofocus>Aceptar</button>
                </div>
            </div>
        </div>
    </body>
</html>